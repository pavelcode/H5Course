<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
      <div id="app">

		<div v-datefmt>{{ time }}</div>
		<my-v-datefmt></my-v-datefmt>

	  </div>
    </body>
    <script src="http://static.runoob.com/assets/vue/1.0.11/vue.min.js"></script>
</head>
  <!--   <script src="../../bower_components/vue/dist/vue.min.js"></script> -->
    <script>

Vue.directive('datefmt',{
	// params:['timevalue'],
	bind:function(){
		// {{ time }}
		//将格式化之前的字符串变成一个Date对象
		var date = new Date(this.vm.time); 
		var year = date.getFullYear();
		var m = date.getMonth() + 1;
		var d = date.getDate();
		//输出： yyyy-mm-dd
		var fmtStr = year+'-'+m +'-'+d;

		this.el.innerText = fmtStr;
	}
});

//定义元素指令
Vue.elementDirective('my-v-datefmt',{
	bind:function(){
		//逻辑代码
		var date = new Date(this.vm.time); 
		var year = date.getFullYear();
		var m = date.getMonth() + 1;
		var d = date.getDate();
		//输出： yyyy-mm-dd
		var fmtStr = year+'-'+m +'-'+d;

		this.el.innerText = fmtStr;
	}
});

new Vue({
	el:'#app',
	data:{
		time:new Date()
	},
	methods:{

	}
});
</script>
</html>