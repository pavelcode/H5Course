<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>星星打分效果</title>
		<script type="text/javascript">
function rate(obj,oEvent){
var imgSrc = 'http://js.alixixi.com/img/icon_star_1.gif';
var imgSrc_2 = 'http://js.alixixi.com/img/icon_star_2.gif';
if(obj.rateFlag) return;
var e = oEvent || window.event;
var target = e.target || e.srcElement;
var imgArray = obj.getElementsByTagName("img");
for(var i=0;i<imgArray.length;i++){
   imgArray[i]._num = i;
   imgArray[i].onclick=function(){
    if(obj.rateFlag) return;
    alert(this._num+1);
 var inputid=this.parentNode.previousSibling
 inputid.value=this._num+1;
   }
}
if(target.tagName=="IMG"){
   for(var j=0;j<imgArray.length;j++){
    if(j<=target._num){
     imgArray[j].src=imgSrc_2;
    } else {
     imgArray[j].src=imgSrc;
    }
 target.parentNode.onmouseout=function(){
 var imgnum=parseInt(target.parentNode.previousSibling.value);
  for(n=0;n<imgArray.length;n++){
   imgArray[n].src=imgSrc;
  }
  for(n=0;n<imgnum;n++){
   imgArray[n].src=imgSrc_2;
  }
 }
   }
} else {
  return false;
}
}
</script>
	</head>
	<body>
		<input type="hidden" value="0">
		<p onmouseover="rate(this,event)">
		<img src="http://js.alixixi.com/img/icon_star_1.gif" title="很烂">
		<img src="http://js.alixixi.com/img/icon_star_1.gif" title="一般">
		<img src="http://js.alixixi.com/img/icon_star_1.gif" title="还好">
		<img src="http://js.alixixi.com/img/icon_star_1.gif" title="较好">
		<img src="http://js.alixixi.com/img/icon_star_1.gif" title="很好">
	</body>
</html>
