<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>使用面向过程实现选项卡</title>
		<!--
         首先将嵌套的函数拿到window.onload外面，不能有函数嵌套，可以有全局变量。如下：所有的改写最终效果都不变。
        -->
        <style>
         #tabBox input {
             background: #F6F3F3;
             border: 1px solid #FF0000;
         }
         #tabBox .active {
             background: #E9D4D4;
         }
         #tabBox div {
             width:300px; 
             height:250px; 
             display:none;
             padding: 10px;
             background: #E9D4D4;
             border: 1px solid #FF0000;
         }
     </style>
     
        <script>
         //将在嵌套函数里的变量提取到全局中
         var tabBtn = null;
         var tabDiv = null;
         
         window.onload = function(){
             var tabBox = document.getElementById('tabBox');
             tabBtn = tabBox.getElementsByTagName('input');
             tabDiv = tabBox.getElementsByTagName('div');
             
             for(var i=0;i<tabBtn.length;i++){
                 tabBtn[i].index = i;
                 //此处调用函数即可
                 tabBtn[i].onclick = clickBtn;
             }
         };
         
         //将嵌套函数提取到全局中
         function clickBtn(){
             for(var j=0;j<tabBtn.length;j++){
                 tabBtn[j].className='';
                 tabDiv[j].style.display='none';
             }
             this.className='active';
             tabDiv[this.index].style.display='block';
         };
         
     </script>
	</head>
	<body>
		 <div id="tabBox">
         <input type="button" value="游戏" class="active" />
         <input type="button" value="旅行" />
         <input type="button" value="音乐" />
         <div style="display:block;">GTA5、孤岛惊魂</div>
         <div>澳大利亚、西藏</div>
         <div>暗里着迷、一生有你</div>
     </div>
	</body>
</html>
